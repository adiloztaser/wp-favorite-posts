document.addEventListener("click",function(e){if(!e.target.matches(".wpf-save-button"))return;e.preventDefault();let t=e.target;t.classList.add("sui-button-onload");let s=document.querySelector(".wpfp-settings-form"),n=new FormData(s),o=new URLSearchParams(n).toString(),a=new XMLHttpRequest;a.open("POST",ajaxurl,!0),a.onload=function(){let e=JSON.parse(this.response);setTimeout(function(){t.classList.remove("sui-button-onload")},200);let s=document.querySelector("#wpfp-status-message");s.style.display="block";let n="sui-notice-success";e.success||(n="sui-notice-error"),s.classList.add(n),s.querySelector("p").innerHTML=e.msg,setTimeout(function(){s.style.display="none"},1e3)},a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.send("action=wpfp_save_settings&"+o)});